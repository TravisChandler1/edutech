"use strict";(()=>{var e={};e.id=497,e.ids=[497],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8520:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>d,originalPathname:()=>_,requestAsyncStorage:()=>p,routeModule:()=>u,serverHooks:()=>c,staticGenerationAsyncStorage:()=>l,staticGenerationBailout:()=>w});var a={};r.r(a),r.d(a,{POST:()=>POST});var s=r(884),n=r(6132),o=r(5798),i=r(9919);async function POST(e){let{email:t}=await e.json();if(!t)return o.Z.json({error:"Email required"},{status:400});try{return await i.Z.query("INSERT INTO newsletter (email) VALUES ($1) ON CONFLICT DO NOTHING",[t]),o.Z.json({message:"Subscribed"})}catch(e){return o.Z.json({error:"Database error"},{status:500})}}let u=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/newsletter/route",pathname:"/api/newsletter",filename:"route",bundlePath:"app/api/newsletter/route"},resolvedPagePath:"C:\\Users\\USER\\Desktop\\edutech\\src\\app\\api\\newsletter\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:p,staticGenerationAsyncStorage:l,serverHooks:c,headerHooks:d,staticGenerationBailout:w}=u,_="/api/newsletter/route"},9919:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(4804);let s=new a.Kg({connectionString:process.env.DATABASE_URL}),n=s}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[997,804],()=>__webpack_exec__(8520));module.exports=r})();